<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<script>
    function Set(){
        // 属性
        this.items = {}
        // 方法
        // add方法
        Set.prototype.add = function(value){
            if(this.has(value)){
                return false
            }
            this.items[value]=value
            return  true
        }
        // has方法
        Set.prototype.has = function(value){
            return this.items.hasOwnProperty(value)
        }
        // Set.prototype.union =function(otherSet){
        //     var unionSet = new Set()
        //     var value =this.value()
        //     for(var i=0;i<values.length;i++){
        //         unionSet.add(values[i])
        //     }
        //     var value =otherSet.value()
        //     for(var i=0;i<value.length;i++){
        //         unionSet.add(values[i])
        //     return unionSet
        // }
        // remove 方法
        Set.prototype.remove = function(value){
            if(!this.has(value)){
                return false
            }
            delete this.items[value]
            return true
        }
        // clear方法
        Set.prototype.clear = function(){
            this.items ={}
        }
        // size
        Set.prototype.size =function(){
            return Object.keys(this.items).length
        }
        // 获取集合中所有的值
        Set.prototype.values =function(){
            return Object.keys(this.items)
        }

        // 并集
        Set.prototype.union = function(otherSet){
            // this集合对象A
            // otherSet：集合对象B
            // 1.创建新的集合
            var unionSet = new Set()
            var values = this.values()
            for (var i=0;i<values.length;i++){
                unionSet.add(values[i])
            }
            values = otherSet.values()
            for(var i=0;i<values.length;i++){
                unionSet.add(values[i])
            }
            return unionSet
        }

        // 交集
        Set.prototype.intersection = function (otherSet) {
            // 创建新的集合
            var intersectionSet = new Set()
            // 从A中取出一个元素，判断是否同时存在B中
            var values =this.values()
            for(var i=0;i<values.length;i++){
                var item = values[i]
                if(otherSet.has(item)){
                    intersectionSet.add(item)
                }
            }
            return intersectionSet
        }
        // 差集（和求交集正好相反）
        Set.prototype.difference = function(otherSet) {
            var differenceSet = new Set()
            var values = this.values()
            for(var i=0;i<values.length;i++){
                var item = values[i]
                if(!otherSet.has(item)){
                    differenceSet.add(item)
                }
            }
           return differenceSet
        }
        Set.prototype.subset =function(otherset){
            var values =this.values()
            for(var i=0;i<values.length;i++){
                var item = values[i]
                if(!otherset.has(item)){
                    return false
                }
            }
            return true
        }
    }

    // var setA = new Set()
    // setA.add('abc')
    // setA.add('abc')
    // setA.add('adc')
    // alert(setA.values())
    // var setB = new Set()
    // setB.add('abc')
    // setB.add('fgh')
    // alert(setA.union(setB))
// /    setA.remove('abc')
    // alert(setA.values())
    // alert(setA.size())
//    / setA.clear()
//     alert(setA.size())

var setA = new Set()
setA.add('abc')
setA.add('cba')
setA.add('nba')
var SetB = new Set()
SetB.add('aaa')
SetB.add('nba')
SetB.add('cba')
 var unionSet = setA.union(SetB)
alert(unionSet.values())
var intersectionSet = setA.intersection(SetB)
alert(intersectionSet.values())
var differenceSet = setA.difference(SetB)
alert(differenceSet.values())
alert(setA.subset(SetB))
</script>
</body>
</html>